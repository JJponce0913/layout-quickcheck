<!DOCTYPE html>
<html>

  <head>
    <title>Layout QuickCheck</title>
    <script>
      function printDimensions(node, fields) {
          let dims = node.getBoundingClientRect();
          console.log("#" + node.id, Object.fromEntries(fields.map((x) => [x, dims[x]])));
      }
      
      // Make the style changes to the page
      function makeStyleChanges() {
          two.style["display"] = "inline-block";
          
      }
      
      function fromScratchLayout() {
          document.documentElement.innerHTML = document.documentElement.innerHTML;
      }
      
      function simpleRecreate() {
          console.log("Make changes and perform incremental layout");
          makeStyleChanges();
          printDimensions(two, ["y", "top", "bottom"]);
          printDimensions(one, ["y", "top", "bottom"]);
          
      
          // Reload the elements
          console.log("Perform from scratch layout, below values should differ from above");
          fromScratchLayout();
          printDimensions(two, ["y", "top", "bottom"]);
          printDimensions(one, ["y", "top", "bottom"]);
          
      }
      
    </script>

    <!-- For a minimal version of this bug, remove all optional JS Files -->
    <!-- Start: Optional JS Files -->
    <script src="debugging_tools.js"></script>
    
    <!-- End: Optional JS Files -->
  </head>

  <body>
    
    <div style="min-width:50px;min-height:50px;background-color:indigo"  id="two">
      
    </div>
    
    <div style="display:table-caption;min-width:50px;min-height:50px;background-color:yellow"  id="one">
      
    </div>
    
  </body>

</html>
