<html><head>
    <title>Fuzzy layout</title>
    <!--
Note: the whitespace in the child of `secondLevel` is significant in reproducing the bug.

JS to reproduce:

Running the following two sequences on a fresh load of the page produces different layout values.
Notice that the difference is calling `getBoundingClientRect()` which should force layout computation.

Sequence 1:
const element = document.getElementById('secondLevel');
console.log(element.getBoundingClientRect());
element.style['white-space'] = 'break-spaces';
console.log(element.getBoundingClientRect());
element.style['white-space'] = 'unset';
console.log(element.getBoundingClientRect());
element.style['white-space'] = 'break-spaces';
console.log(element.getBoundingClientRect());

Sequence 2:
const element = document.getElementById('secondLevel');
console.log(element.getBoundingClientRect());
element.style['white-space'] = 'break-spaces';
element.style['white-space'] = 'unset';
element.style['white-space'] = 'break-spaces';
console.log(element.getBoundingClientRect());
    -->
  </head>
  <body style="scrollbar-width: none">
    <div style="
        writing-mode: vertical-lr;
      ">
      <div style="background-color: red; display: inline-grid; white-space: break-spaces;" id="secondLevel">
        <div style="
            writing-mode: horizontal-tb;
            /* text-anchor: middle; */
          ">
        </div>
      </div>
    </div>
  

</body></html>